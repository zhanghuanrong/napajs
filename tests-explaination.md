# Failed node test when running in napa worker
## How the list is generated
- Utilize tools\test.py, which run more than 2000 js test scripts, and a test fail when it exit code is not 0 or timeout.
- slightly modified script that when an env virable for NODE_WORKER_TEST_WRAPPER exists, run each target js test script in a napa worker (by run js specified by NODE_WORKER_TEST_WRAPPER in main) rather than in the node main as pure node test.
- slightly modify common.js under test/ dir so that no global variable check when env variable NODE_WORKER_TEST_WRAPPER exist.

## The meaning of the list
- The list gives all failed js test scripts name together with its dir name. 
- The failed test could caused by different reasons, and are under investigating. For example: many of async_hooks\* test failed becaused we many already start some async object before the test, and the root triggering async uid is not 1 but 0. Some fail may also not caused by the feature named the test script, but some dependecies used in the script.
- For tests not list here, they just pass currently. No guarrantee they are 100% working in multi-thread environment.
- Notes: The list will be updated upon deeper investigations.

## Black list
```
async-hooks/test-crypto-pbkdf2
async-hooks/test-crypto-randomBytes
async-hooks/test-embedder.api.async-resource
async-hooks/test-embedder.api.async-resource-no-type
async-hooks/test-embedder.api.async-resource.after-on-destroyed
async-hooks/test-embedder.api.async-resource.before-on-destroyed
async-hooks/test-embedder.api.async-resource.improper-order
async-hooks/test-embedder.api.async-resource.improper-unwind
async-hooks/test-emit-before-after
async-hooks/test-emit-init
async-hooks/test-enable-disable
async-hooks/test-enable-in-init
async-hooks/test-fseventwrap
async-hooks/test-fsreqwrap-access
async-hooks/test-fsreqwrap-readFile
async-hooks/test-getaddrinforeqwrap
async-hooks/test-getnameinforeqwrap
async-hooks/test-graph.fsreq-readFile
async-hooks/test-graph.http
async-hooks/test-graph.intervals
async-hooks/test-graph.pipe
async-hooks/test-graph.pipeconnect
async-hooks/test-graph.shutdown
async-hooks/test-graph.signal
async-hooks/test-graph.statwatcher
async-hooks/test-graph.tcp
async-hooks/test-graph.timeouts
async-hooks/test-graph.tls-write
async-hooks/test-httpparser.request
async-hooks/test-httpparser.response
async-hooks/test-immediate
async-hooks/test-nexttick-default-trigger
async-hooks/test-pipeconnectwrap
async-hooks/test-pipewrap
async-hooks/test-promise
async-hooks/test-querywrap
async-hooks/test-shutdownwrap
async-hooks/test-signalwrap
async-hooks/test-statwatcher
async-hooks/test-tcpwrap
async-hooks/test-timers.setInterval
async-hooks/test-timers.setTimeout
async-hooks/test-timerwrap.setInterval
async-hooks/test-timerwrap.setTimeout
async-hooks/test-tlswrap
async-hooks/test-ttywrap.readstream
async-hooks/test-udpsendwrap
async-hooks/test-udpwrap
async-hooks/test-writewrap
async-hooks/test-zlib.zlib-binding.deflate
parallel/test-async-hooks-promise
parallel/test-async-hooks-promise-triggerid
parallel/test-async-hooks-top-level-clearimmediate
parallel/test-child-process-can-write-to-stdout
parallel/test-child-process-exit-code
parallel/test-child-process-fork-net
parallel/test-child-process-fork-net2
parallel/test-child-process-ipc
parallel/test-child-process-send-cb
parallel/test-child-process-stdout-flush
parallel/test-child-process-stdout-flush-exit
parallel/test-cli-eval
parallel/test-cluster-bind-privileged-port
parallel/test-cluster-dgram-1
parallel/test-cluster-dgram-2
parallel/test-cluster-dgram-reuse
parallel/test-cluster-disconnect-exitedAfterDisconnect-race
parallel/test-cluster-disconnect-race
parallel/test-cluster-fork-stdio
parallel/test-cluster-fork-windowsHide
parallel/test-cluster-invalid-message
parallel/test-cluster-kill-disconnect
parallel/test-cluster-master-kill
parallel/test-cluster-net-listen
parallel/test-cluster-net-listen-relative-path
parallel/test-cluster-process-disconnect
parallel/test-cluster-send-deadlock
parallel/test-cluster-send-handle-twice
parallel/test-cluster-send-socket-to-worker-http-server
parallel/test-cluster-server-restart-none
parallel/test-cluster-server-restart-rr
parallel/test-cluster-shared-handle-bind-error
parallel/test-cluster-shared-handle-bind-privileged-port
parallel/test-cluster-shared-leak
parallel/test-cluster-worker-death
parallel/test-cluster-worker-events
parallel/test-cluster-worker-exit
parallel/test-cluster-worker-forced-exit
parallel/test-cluster-worker-no-exit
parallel/test-common
parallel/test-common-countdown
parallel/test-crypto-domain
parallel/test-debug-args
parallel/test-dgram-exclusive-implicit-bind
parallel/test-domain-abort-on-uncaught
parallel/test-domain-nested
parallel/test-domain-no-error-handler-abort-on-uncaught-0
parallel/test-domain-no-error-handler-abort-on-uncaught-1
parallel/test-domain-no-error-handler-abort-on-uncaught-2
parallel/test-domain-no-error-handler-abort-on-uncaught-3
parallel/test-domain-no-error-handler-abort-on-uncaught-4
parallel/test-domain-no-error-handler-abort-on-uncaught-5
parallel/test-domain-no-error-handler-abort-on-uncaught-6
parallel/test-domain-no-error-handler-abort-on-uncaught-7
parallel/test-domain-no-error-handler-abort-on-uncaught-8
parallel/test-domain-no-error-handler-abort-on-uncaught-9
parallel/test-domain-stack-empty-in-process-uncaughtexception
parallel/test-domain-throw-error-then-throw-from-uncaught-exception-handler
parallel/test-domain-top-level-error-handler-clears-stack
parallel/test-domain-top-level-error-handler-throw
parallel/test-domain-with-abort-on-uncaught-exception
parallel/test-error-reporting
parallel/test-events-uncaught-exception-stack
parallel/test-exception-handler2
parallel/test-internal-util-decorate-error-stack
parallel/test-module-main-extension-lookup
parallel/test-module-main-fail
parallel/test-module-main-preserve-symlinks-fail
parallel/test-module-require-depth
parallel/test-pipe-head
parallel/test-preload
parallel/test-process-env
parallel/test-process-exception-capture
parallel/test-process-exception-capture-should-abort-on-uncaught
parallel/test-process-exception-capture-should-abort-on-uncaught-setflagsfromstring
parallel/test-process-fatal-exception-tick
parallel/test-repl
parallel/test-repl-autolibs
parallel/test-repl-colors
parallel/test-repl-console
parallel/test-repl-context
parallel/test-repl-definecommand
parallel/test-repl-deprecations
parallel/test-repl-domain
parallel/test-repl-editor
parallel/test-repl-empty
parallel/test-repl-end-emits-exit
parallel/test-repl-envvars
parallel/test-repl-eval
parallel/test-repl-eval-scope
parallel/test-repl-function-definition-edge-case
parallel/test-repl-history-perm
parallel/test-repl-inspector
parallel/test-repl-let-process
parallel/test-repl-load-multiline
parallel/test-repl-memory-deprecation
parallel/test-repl-mode
parallel/test-repl-multiline
parallel/test-repl-null
parallel/test-repl-null-thrown
parallel/test-repl-options
parallel/test-repl-pretty-custom-stack
parallel/test-repl-pretty-stack
parallel/test-repl-recoverable
parallel/test-repl-require
parallel/test-repl-require-cache
parallel/test-repl-reset-event
parallel/test-repl-save-load
parallel/test-repl-syntax-error-stack
parallel/test-repl-tab
parallel/test-repl-tab-complete
parallel/test-repl-tab-complete-crash
parallel/test-repl-tab-complete-no-warn
parallel/test-repl-throw-null-or-undefined
parallel/test-repl-top-level-await
parallel/test-repl-turn-off-editor-mode
parallel/test-repl-underscore
parallel/test-repl-use-global
parallel/test-signal-unregister
parallel/test-stdin-from-file
parallel/test-stdio-pipe-redirect
parallel/test-stdout-to-file
parallel/test-timers-api-refs
parallel/test-timers-immediate-unref-simple
parallel/test-timers-unrefed-in-beforeexit
parallel/test-tty-backwards-api
parallel/test-vm-cached-data
message/2100bytes.js
message/assert_throws_stack.js
message/console_low_stack_space.js
message/core_line_numbers.js
message/error_exit.js
message/esm_display_syntax_error.mjs
message/esm_display_syntax_error_import.mjs
message/esm_display_syntax_error_import_module.mjs
message/esm_display_syntax_error_module.mjs
message/eval_messages.js
message/events_unhandled_error_common_trace.js
message/events_unhandled_error_nexttick.js
message/events_unhandled_error_sameline.js
message/hello_world.js
message/if-error-has-good-stack.js
message/max_tick_depth.js
message/nexttick_throw.js
message/stack_overflow.js
message/stdin_messages.js
message/throw_custom_error.js
message/throw_in_line_with_tabs.js
message/throw_non_error.js
message/throw_null.js
message/throw_undefined.js
message/timeout_throw.js
message/undefined_reference_in_new_context.js
message/unhandled_promise_trace_warnings.js
message/vm_caught_custom_runtime_error.js
message/vm_display_runtime_error.js
message/vm_display_syntax_error.js
message/vm_dont_display_runtime_error.js
message/vm_dont_display_syntax_error.js
known_issues/test-dgram-bind-shared-ports-after-port-0
known_issues/test-repl-require-context
known_issues/test-stdin-is-always-net.socket
es-module/test-esm-basic-imports
es-module/test-esm-cyclic-dynamic-import
es-module/test-esm-double-encoding
es-module/test-esm-encoded-path
es-module/test-esm-example-loader
es-module/test-esm-forbidden-globals
es-module/test-esm-import-meta
es-module/test-esm-json
es-module/test-esm-loader-dependency
es-module/test-esm-main-lookup
es-module/test-esm-namespace
es-module/test-esm-require-cache
es-module/test-esm-resolve-hook
es-module/test-esm-shebang
es-module/test-esm-snapshot
es-module/test-esm-throw-undefined
sequential/test-async-wrap-getasyncid
sequential/test-child-process-fork-getconnections
sequential/test-cluster-send-handle-large-payload
sequential/test-dgram-bind-shared-ports
sequential/test-inspector-async-call-stack
sequential/test-inspector-bindings
sequential/test-inspector-contexts
sequential/test-inspector-module
sequential/test-inspector-overwrite-config
sequential/test-inspector-port-zero-cluster
sequential/test-module-loading
sequential/test-performance
```
